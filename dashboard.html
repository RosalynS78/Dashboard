<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="./dashboard-style.css">
      <script src="./scripts.js"></script>
      <title>Robin's Dashboard</title>
</head>

<!-- Calling the displayDate function from scripts.js to find and format today's date. I don't need the DOM (page)loaded 
     to get the date from my system, so this .js file can be loaded before the page loads -->
<body onload="displayDate('clock_board')">
    <div class="container">
          <header>
            <!-- Using header as a spacer -->
          </header>
        <leftcol>
          <!-- Weather widget from https://weatherwidget.io/ -->
          <a class="weatherwidget-io" href="https://forecast7.com/en/33d58n101d86/lubbock/" data-label_1="LUBBOCK" data-label_2="WEATHER" data-font="Roboto" data-mode="Current" data-days="3" data-textcolor="#ffffff" >LUBBOCK WEATHER</a>
          <script>
          !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='https://weatherwidget.io/js/widget.min.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','weatherwidget-io-js');
          </script>
			
          <!-- To Do list from https://www.w3schools.com/howto/howto_js_todolist.asp -->
          <div id="todos">
              <div class="header">
                  <h3 style="margin:5px">My To Do List</h3>
                  <input type="text" id="myInput" placeholder="Title...">
                  <span onclick="newElement()" class="addBtn">Add</span>
              </div>
              <ul id="myUL">
                  <li class="checked">Pay bills</li>
                  <li>Buy eggs</li>
                  <li>Read a book</li>
                  <li>Organize office</li>
              </ul>
          </div>
        </leftcol>
        <main>
            <h1>Hello, Robin!</h1>
            <h2>Whatever you're doing today, do it with the confidence of a 4-year-old in a Batman t-shirt.</h2>
            <hr style="width:75%;">
				<!-- Here's where I display the date/time that was calculated when the body started loading -->
			    <section id="clock_board" class="clock"></section>
        </main>
        <aside>
		<!-- Calculator -->
            <section id="gd-calendar">
                <div id="gd-calendar-year">November 2021</div>
                <div class="gd-calendar-week">Sun</div>
                <div class="gd-calendar-week">Mon</div>
                <div class="gd-calendar-week">Tue</div>
                <div class="gd-calendar-week">Wed</div>
                <div class="gd-calendar-week">Thu</div>
                <div class="gd-calendar-week">Fri</div>
                <div class="gd-calendar-week">Sat</div>
                <div class="gd-calendar-date otherMonth">31</div>
                <div class="gd-calendar-date">1</div>
				<div class="gd-calendar-date">2</div>
                <div class="gd-calendar-date">3</div>
                <div class="gd-calendar-date">4</div>
                <div class="gd-calendar-date">5</div>
                <div class="gd-calendar-date">6</div>
                <div class="gd-calendar-date">7</div>
                <div class="gd-calendar-date">8</div>
                <div class="gd-calendar-date">9</div>
                <div class="gd-calendar-date">10</div>
                <div class="gd-calendar-date">11</div>
                <div class="gd-calendar-date">12</div>
                <div class="gd-calendar-date">13</div>
                <div class="gd-calendar-date">14</div>
                <div class="gd-calendar-date">15</div>
                <div class="gd-calendar-date">16</div>
                <div class="gd-calendar-date">17</div>
                <div class="gd-calendar-date">18</div>
                <div class="gd-calendar-date">19</div>
                <div class="gd-calendar-date">20</div>
                <div class="gd-calendar-date">21</div>
                <div class="gd-calendar-date">22</div>
                <div class="gd-calendar-date">23</div>
                <div class="gd-calendar-date">24</div>
                <div class="gd-calendar-date">25</div>
                <div class="gd-calendar-date">26</div>
                <div class="gd-calendar-date">27</div>
                <div class="gd-calendar-date">28</div>
                <div class="gd-calendar-date">29</div>
                <div class="gd-calendar-date">30</div>
                <div class="gd-calendar-date otherMonth">1</div>
                <div class="gd-calendar-date otherMonth">2</div>
                <div class="gd-calendar-date otherMonth">3</div>
                <div class="gd-calendar-date otherMonth">4</div>	  
            </section>
            
            <form id="gd_calculator" title="Calculator Designed with CSS Grid">
              <input id="gd_display" type="text" name="display" readonly>
              <input type="button" class="gd-button gd-digits" value="7" onclick="gd_calculator.gd_display.value += '7'">
              <input type="button" class="gd-button gd-digits" value="8" onclick="gd_calculator.gd_display.value += '8'">
              <input type="button" class="gd-button gd-digits" value="9" onclick="gd_calculator.gd_display.value += '9'">
              <input type="button" class="gd-button gd-mathButtons" value="+" onclick="gd_calculator.gd_display.value += '+'">

              <input type="button" class="gd-button gd-digits" value="4" onclick="gd_calculator.gd_display.value += '4'">
              <input type="button" class="gd-button gd-digits" value="5" onclick="gd_calculator.gd_display.value += '5'">
              <input type="button" class="gd-button gd-digits" value="6" onclick="gd_calculator.gd_display.value += '6'">
              <input type="button" class="gd-button gd-mathButtons" value="-" onclick="gd_calculator.gd_display.value += '-'">

              <input type="button" class="gd-button gd-digits" value="1" onclick="gd_calculator.gd_display.value += '1'">
              <input type="button" class="gd-button gd-digits" value="2" onclick="gd_calculator.gd_display.value += '2'">
              <input type="button" class="gd-button gd-digits" value="3" onclick="gd_calculator.gd_display.value += '3'">
              <input type="button" class="gd-button gd-mathButtons" value="*" onclick="gd_calculator.gd_display.value += '*'">

              <input type="button" id="clearButton" class="gd-button gd-digits" value="CL" onclick="gd_calculator.gd_display.value = ''">
              <input type="button" class="gd-button gd-digits" value="0" onclick="gd_calculator.gd_display.value += '0'">
              <input type="button" class="gd-button gd-digits" value="=" onclick="gd_calculator.gd_display.value =eval(gd_calculator.gd_display.value)">
              <input type="button" class="gd-button gd-mathButtons" value="/"  onclick="gd_calculator.gd_display.value += '/'">
            </form>
            
          </aside>          
      </div>

      <script>
            /* To Do List */
			
			/* 	Since I'm referencing tags, ids, and elements on the page like SPAN, LI, myInput, myUL, this script needs these
				
			*/
			
			
            // Create a "close" button and append it to each list item
            var myNodelist = document.getElementsByTagName("LI");
            var i;
            for (i = 0; i < myNodelist.length; i++) {
              var span = document.createElement("SPAN");
              var txt = document.createTextNode("\u00D7");
              span.className = "close";
              span.appendChild(txt);
              myNodelist[i].appendChild(span);
            }

            // Click on a close button to hide the current list item
            var close = document.getElementsByClassName("close");
            var i;
            for (i = 0; i < close.length; i++) {
              close[i].onclick = function() {
                var div = this.parentElement;
                div.style.display = "none";
              }
            }

            // Add a "checked" symbol when clicking on a list item
            var list = document.querySelector('ul');
            list.addEventListener('click', function(ev) {
              if (ev.target.tagName === 'LI') {
                ev.target.classList.toggle('checked');
              }
            }, false);

            // Create a new list item when clicking on the "Add" button
            function newElement() {
              var li = document.createElement("li");
              var inputValue = document.getElementById("myInput").value;
              var t = document.createTextNode(inputValue);
              li.appendChild(t);
              if (inputValue === '') {
                alert("You must write something!");
              } else {
                document.getElementById("myUL").appendChild(li);
              }
              document.getElementById("myInput").value = "";

              var span = document.createElement("SPAN");
              var txt = document.createTextNode("\u00D7");
              span.className = "close";
              span.appendChild(txt);
              li.appendChild(span);

              for (i = 0; i < close.length; i++) {
                close[i].onclick = function() {
                  var div = this.parentElement;
                  div.style.display = "none";
                }
              }
            }
      </script>
</body>
</html>